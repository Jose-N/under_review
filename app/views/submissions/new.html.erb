<h1>New Review Submission</h1>

<%= form_for @submission do |f| %>
  <% if @submission.errors.any? %>
    <div id="error_explanation">

      <ul>
      <% @submission.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <% if @rating.errors.any? %>
    <div id="error_explanation">

      <ul>
      <% @rating.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>


  <div class="field">
    <%= f.label :title %>
    <%= f.text_field :title %>
  </div>


  <div class="field">
    <%= f.label :url %>
    <%= f.text_field :url %>
  </div>

  <div class="field">
    <%= f.label :screenshot %>
    <%= f.file_field :screenshot, disabled: false %>
  </div>

  <%= fields_for(@submission.comments.build) do |u| %>

    <div class="field">
      <%= u.label :body, "Description" %>
      <%= u.text_field :body %>
    </div>
  <% end %>

  <%= fields_for(@submission.ratings.build) do |u| %>

    <div class="field">
      <%= u.label :troll %>
      <%= u.number_field :troll, in: 1...6 %>
    </div>

    <div class="field">
      <%= u.label :funny %>
      <%= u.number_field :funny, in: 1...6 %>
    </div>

    <div class="field">
      <%= u.label :story %>
      <%= u.number_field :story, in: 1...6 %>
    </div>

    <div class="field">
      <%= u.label :helpful %>
      <%= u.number_field :helpful, in: 1...6 %>
    </div>
  <% end %>

  <%= f.submit "Rate This Jawn" %>
<% end %>
